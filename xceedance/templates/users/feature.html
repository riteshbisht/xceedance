{% extends "base.html" %}
{%load static%}

{% block container %}
	<div class="modal fade" id="add-new-feature" tabindex="-1" role="dialog" aria-labelledby="add-new-feature">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

	        <h4 class="modal-title" id="add-new-feature-label">New Feature</h4>
	      </div>
	      <div class="modal-body">
	        <form data-bind="submit: saveFeature">
	          <div class="form-group">
	            <label for="recipient-name" class="control-label" >Title:</label>
	            <br>
	            <input type="text" class="form-control" id="title" data-bind="value: newTitle">
	            <span style="color:red; display: block" id="error-title"></span>
	          </div>
	          <div class="form-group">
	            <label for="description" class="control-label">Description:</label>
	            <textarea class="form-control" id="description" data-bind="textInput: newDescription"></textarea>
	           	<span style="color:red; display: block" id="error-description"></span>
	          </div>
	          <div class="form-group">
	          	<label>Client</label>
	          	<select data-bind="options: availableClient, optionsText:'name',  value: selectedClient,   optionsValue: 'id', optionsCaption: 'Choose Client'" class="form-control"></select>
	          	<span style="color:red; display: block" id="error-client"></span>
	          </div>
	          <div class="form-group">
	            <label for="target_date" class="control-label" >Target Date:</label>
	            <input type="text" class="form-control" name="target_date" id="target_date" data-bind="value: newTargetDate">
	            <span style="color:red; display: block" id="error-target_date"></span>
	          </div>
	          <div class="form-group">
				<label for="priority-name" class="control-label" >Priority:</label>
	            <input class="form-control" type="number" id="priority-name" data-bind="value: newPriority">
	           	<span style="color:red; display: block" id="error-priority"></span>
	          </div>

	          <div class="form-group">
	          	<label>Product Area</label>
	          	<select data-bind="options: availableProduct, optionsText:'name',  value: selectedProduct,   optionsValue: 'id',optionsCaption: 'Choose Product'" class="form-control" name="product"></select>
	         	<span style="color:red; display: block" id="error-product"></span>
	          </div>
	        <button type="submit" class="btn btn-primary">Add Feature</button>
	        </form>
	      </div>

	    </div>
	  </div>
	</div>
	<div class="container-fluid">
		<div class="center">
			<h1 class="text-center">Featur App Request</h1>	
		</div>
		<div class="row">
			<div class="col-md-12">
				<h2 ">Features List</h2>
			</div>
			<table   class="table table-striped">
				<thead>
					<tr>
						<th>Title</th>
						<th>Description</th>
						<th>Client</th>
						<th>Status</th>
						<th>Priority</th>
						<th>Target Date</th>
						<th>Product</th>
					</tr>
				</thead>
				<tbody data-bind="foreach: features" data-bind="if: features().length > 0">
					</tr>
						<td><span data-bind="text: title"></span></td>
						<td><span data-bind="text: description"></span></td>
						<td><span data-bind="text: client_name"></span></td>
						<td><span data-bind="text: status"></span></td>
						<td><span data-bind="text: priority"></span></td>
						<td><span data-bind="text: target_date"></span></td>
						<td><span data-bind="text: product_name"></span></td>
					</tr>
			</table>
			<div data-bind="if: features().length == 0 ">
				<h4 class="text-center">There are no features yet</h4>
			</div>
			<div class="col-md-12">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add-new-feature" data-whatever="@mdo">Add New Feature</button>
			</div>

		</div>
	</div>

	{% endblock container %}

	{% block js_section%}
	    {{ block.super }}
		<script>
		    $( "#target_date" ).datepicker({ dateFormat: 'yy-dd-mm' });
		</script>
	{% endblock %}
